	<!-- Main View: generate all content for display -->
<!DOCTYPE html>
<html lang="en" ng-app='SPR'>

	<head>
			<!-- Compatibility & view issues -->
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
    	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>

	    <title>Surface Plasmon Resonance</title>

	    	<!-- Angular Libraries -->
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>

			<!-- Bootstrap Libraries -->


			<!-- jQuery Libraries -->


	    	<!-- jqplot Libraries -->


	    	<!-- ng-grid Libraries -->


	    	<!-- Personal libraries, load last since these files will be referencing to those previous libraries too -->
		<link rel="stylesheet" href="styles/main.css">
		<script type="text/javascript" src="index_model.js"></script>
		<script type="text/javascript" src="scripts/services/system_model.js"></script>
		<script type="text/javascript" src="scripts/services/experiment_status.js"></script>
		<script type="text/javascript" src="scripts/services/output_model.js"></script>
		<script type="text/javascript" src="scripts/services/simple_statistics.js"></script> 
		<script type="text/javascript" src="index_controller.js"></script>
		<!--script type="text/javascript" src="scripts/controllers/controllers.js"></script-->
		<!--script type="text/javascript" src="scripts/filters/filters.js"></script-->
		<!-- credit: http://simplestatistics.org/ -->

	</head>

	<body ng-controller="viewCtrl as view">
		<!-- ng-init=setUpNewExperiment; ng-controller -->

<!-- Bootstrap column position: far left / far right -->
			
			<!-- 0. Debugging Box -->
				<!-- 0.1. system_model -->
					<div class="system">
						<h1>System Model</h1>
							<!-- a) tRC-->
						<div>total receptor conc = {{view.system.tRC}}</div><br/>
							<!-- b) Kd -->
						<div>Kd = {{view.system.Kd_chance}}</div><br/>
							<!-- c) kOff -->
						<div>kOff = {{view.system.kOff}}</div><br/>
							<!-- d) kOn -->
						<div>kOn = {{view.system.kOn}}</div><br/>
							<!-- e) mwL -->
						<div>mol weight ligand = {{view.system.mwL}}</div><br/>
							<!-- f) mwR -->
						<div>mol weight receptor = {{view.system.mwR}}</div><br/>
							<!-- g) mwP -->
						<div>mol weight complex = {{view.system.mwP}}</div><br/>
					</div>

				<!-- 0.2. ouput_model -->
					<div class="output">
						<h1>Output Model</h1>

							<!-- a) combined form for input: fLC, timeOn, timeOff -->
						<div class="form">
								<!-- i) fLC -->
							<form novalidate name="fLC_Form">
								free ligand concentration: <input name="fLC" type="number" min="0" ng-model="input_fLC" required>
							</form><br/>
							<div ng-show="fLC_Form.fLC.$dirty && fLC_Form.fLC.$invalid">Must be a number equal or more than 0</div><br/>
								<!-- ii) timeOn -->
							<form novalidate name="timeOn_Form">
								association experiment time: <input name="timeOn" type="number" min="0.5" ng-model="input_timeOn" required>
							</form><br/>
							<div ng-show="timeOn_Form.timeOn.$dirty && timeOn_Form.timeOn.$invalid">Must be a number more than 0.5</div><br/>
								<!-- iii) timeOff -->
							<form novalidate name="timeOff_Form">
								disassociation experiment time: <input name="timeOff" type="number" min="0.5" ng-model="input_timeOff" required>
							</form> <br/>
							<div ng-show="timeOff_Form.timeOff.$dirty && timeOff_Form.timeOff.$invalid">Must be a number more than 0.5</div><br/>
								<!-- iv) "setup experiment" button-->
							<button ng-click="view.setupOrEat()" ng-disabled="view.experiment.timeOfDay !== view.experiment.startOfDay || (view.experiment.daysLeft == 0 && view.experiment.timeOfDay !== 9)">setup</button><br/><br/>
								<!-- v) "run experiment" button -->
							<button ng-click="view.runExperiment(input_fLC, input_timeOn, input_timeOff)" ng-disabled="fLC_Form.fLC.$invalid || timeOn_Form.timeOn.$invalid || timeOff_Form.timeOff.$invalid || view.experiment.timeOfDay == view.experiment.startOfDay || view.experiment.timeOfDay == view.experiment.startOfLunch || view.experiment.timeOfDay == view.experiment.startOfDinner || view.experiment.timeOfDay == view.experiment.startOfNight || view.experiment.timeOfDay == view.experiment.endOfDay">run experiment</button><br/><br/>
								<!-- vi) "eat" button -->
							<button ng-click="view.setupOrEat()" ng-disabled="view.experiment.timeOfDay !== view.experiment.startOfLunch && view.experiment.timeOfDay !== view.experiment.startOfDinner && view.experiment.timeOfDay !== view.experiment.startOfNight">eat</button><br/><br/>
								<!-- vii) "go home" button -->
							<button ng-click="view.goHome()" ng-disabled="view.experiment.timeOfDay == view.experiment.startOfDay || view.experiment.daysLeft == 0">Go Home</button><br/><br/>
								<!-- viii) "restart" button -->
							<button ng-click="view.restart()" ng-disabled="view.experiment.timeOfDay == view.experiment.startOfDay && view.experiment.daysLeft == view.experiment.daysAllowed">Restart</button><br/><br/>
								<!-- viii) Experiment finishes -->
							<div ng-show="view.experiment.daysLeft == 0 && view.experiment.timeOfDay == view.experiment.endOfDay">No more trials left! Restart!</div><br/>
								<!-- viii) results display (test) -->
							<div ng-repeat="fLC_input in view.output.fLC track by $index">fLC = {{fLC_input}}</div>
							<div ng-repeat="timeOn_input in view.output.timeOn track by $index">timeOn = {{timeOn_input}}</div>
							<div ng-repeat="timeOff_input in view.output.timeOff track by $index">timeOff = {{timeOff_input}}</div>
						</div><br/>
							<!-- b) vol -->
						<div>volume = {{view.vol}}</div><br/>
							<!-- c) RPUM -->
						<div>response per unit mass = {{view.RPUM}}</div><br/>
							<!-- e) RU0 (actual) -->
						<div>RU at t=0 (actual) = {{view.output.RU0_actual}}</div><br/>
							<!-- d) RU0 (output/set) -->
						<div>RU at t=0 (output) = {{view.output.RU0_set}}</div><br/>
							<!-- f) ComplexConcOn -->
						<div>complex conc (assoc) = {{view.output.ComplexConcOn}}</div><br/>
							<!-- h) ComplexConcOff -->
						<div>complex conc (dis) = {{view.output.ComplexConcOff}}</div><br/>
							<!-- g) RU_ComplexOn -->
						<div>RU complex conc (assoc) = {{view.output.RU_ComplexOn}}</div><br/>
							<!-- i) RU_ComplexOff -->
						<div>RU complex conc (dis) = {{view.output.RU_ComplexOff}}</div><br/>
							<!-- j) RU_ComplexEQ -->
						<div>RU complex (eq) = {{view.output.RU_ComplexEQ}}</div><br/>
					</div>
					
				<!-- 0.3. experiment_model -->
					<div class="experiment">
						<h1>Experiment Status</h1>
							<!-- i. Showing value of all constants defined -->
						<div>Start of Day = {{view.experiment.startOfDay}}</div><br/>
						<div>Start of Lunch = {{view.experiment.startOfLunch}}</div><br/>
						<div>Start of Dinner = {{view.experiment.startOfDinner}}</div><br/>
						<div>Start of Night = {{view.experiment.startOfNight}}</div><br/>
						<div>End of Day = {{view.experiment.endOfDay}}</div><br/>
						<div>Time per Run = {{view.experiment.timePerRun}}</div><br/>
							<!-- ii. Steps Taken -->
						<div>Steps Taken = {{view.experiment.steps}}</div><br/>
							<!-- iii. Days Left -->
						<div>Days Left = {{view.experiment.daysLeft}}</div><br/>
							<!-- iv. Time of Day -->
						<div>Time of Day = {{view.experiment.timeOfDay}}</div><br/>						
					</div>

<!-- Bootstrap column position: centre full -->

			<!-- 1. Top Box -->
				<!-- heading text only: SURFACE PLASMON RESONANCE -->

				<!-- Ligand ID -->
					<!-- text only -->

				<!-- Menu Bar -->
					<!-- ngcontroller hover over drop down menu -->
					<!-- for extension of functionality -->

				<!-- Cookies Autosave reload -->
					<!-- text warning -->
					<!-- button ng-click to load or restart -->
					<!-- ng-controllers: auto prompt to load save -->

<!-- Bootstrap column position: centre left -->

			<!-- 2. Output -->
				<!-- heading text only-->

				<!-- Mode A - Sensorgram: Graph of Resonance (RU) vs Time (s) -->
					<!-- graph element -->
					<!-- ng-controller plot sensorgram graph --> 
					<!-- services: model -->

				<!-- Mode A - Result Box: Precision  -->
					<!-- text only -->

				<!-- Mode B - Langmuir Isotherm: Graph of Resonance at Equilibrium (RU) vs [Free Ligand] (M) -->
					<!-- graph element -->
					<!-- ng-controller plot Langmuir graph --> 
					<!-- services: generated data -->

				<!-- Mode B - Result Box: Kd value  -->
					<!-- text only -->

			<!-- 3. Results -->
				<!-- heading text only -->

				<!-- Buttons-->

					<!-- Precision -->
						<!-- button ng-click -->
						<!-- ng-controller: precision calculation -->
						<!-- services: simple statitics -->

					<!-- Sensorgram -->
						<!-- button ng-click -->
						<!-- ng-controller: plot sensorgram graph -->

					<!-- Langmuir Isotherm -->
						<!-- button ng-click -->
						<!-- ng-controller: plot Langmuir graph -->

				<!-- Table data display -->
						<!-- directives: ng-grid -->
						<!-- ng-click controller: select -->

					<!-- No. -->
						<!-- text only -->

					<!-- Time (s) -->
						<!-- text only -->

					<!-- Free [Ligand] (M) -->
						<!-- text only -->

					<!-- Max Resonance @ on (RU) -->
						<!-- text only -->

					<!-- koff (s^-1) -->
						<!-- text only -->

<!-- Bootstrap column position: centre right -->

			<!-- 4. Status -->
				<!-- heading text only -->

				<!-- Days Left -->
					<!-- text only -->
					<!-- text box display; directives: warning 1 -->

				<!-- Time of Day -->
					<!-- text only -->
					<!-- text box display; directives: warning 2 -->

				<!-- Steps Taken -->
					<!-- text only -->
					<!-- text box display; directives: warning 3 -->

			<!-- 5. Control Panel -->
				<!-- heading text only -->

				<!-- Buttons -->

					<!-- Setup -->
						<!-- button ng-click -->
						<!-- ng-controller: setup -->

					<!-- Run -->
						<!-- button ng-click -->
						<!-- ng-controller: run -->

					<!-- Eat -->
						<!-- button ng-click -->
						<!-- ng-controller: eat -->

					<!-- Home -->
						<!-- button ng-click -->
						<!-- ng-controller: home -->

				<!-- Association Time (s) -->
					<!-- text only -->
					<!-- text box form -->

				<!-- Disassociation Time (s) -->
					<!-- text only -->
					<!-- text box form -->

				<!-- Free [Ligand] (M) -->
					<!-- text only -->
					<!-- text box form -->

			<!-- 6. Data Display -->
				<!-- heading text only -->

				<!-- Buttons -->

					<!-- Zero -->
						<!-- button ng-click -->
						<!-- ng-controller: zero -->

					<!-- Outlier -->
						<!-- button ng-click -->
						<!-- ng-controller: outlier -->						

					<!-- Select All -->
						<!-- button ng-click -->
						<!-- ng-controller: select all -->

					<!-- Excel Export -->
						<!-- button ng-click -->
						<!-- ng-controller: excell export -->

			<!-- 7. Credits -->
				<!-- text only -->
	    
	</body>

</html>